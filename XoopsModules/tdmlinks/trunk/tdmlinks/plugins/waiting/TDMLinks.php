<?php/*************************************************************************/# Waiting Contents Extensible                                            ## Plugin for module tdmlinks                                         ##                                                                        ## Author                                                                 ## Danordesign     -   flying.tux@gmail.com                               ##                                                                        ## Last modified on 19.10.2009                                            #/*************************************************************************/function b_waiting_tdmlinks(){    $xoopsDB =& Database::getInstance();    $ret = array() ;    // tdmlinks waiting    $block = array();    $result = $xoopsDB->query("SELECT COUNT(*) FROM ".$xoopsDB->prefix("tdmlinks_LINKS")." WHERE status=0");    if ( $result ) {        $block['adminlink'] = XOOPS_URL."/modules/tdmlinks/admin/links.php?op=liste&statut_display=0";        list($block['pendingnum']) = $xoopsDB->fetchRow($result);        $block['lang_linkname'] = _PI_WAITING_WAITINGS ;    }    $ret[] = $block ;    // tdmlinks broken    $block = array();    $result = $xoopsDB->query("SELECT COUNT(*) FROM ".$xoopsDB->prefix("tdmlinks_broken"));    if ( $result ) {        $block['adminlink'] = XOOPS_URL."/modules/tdmlinks/admin/broken.php";        list($block['pendingnum']) = $xoopsDB->fetchRow($result);        $block['lang_linkname'] = _PI_WAITING_BROKENS ;    }    $ret[] = $block ;    // tdmlinks modreq    $block = array();    $result = $xoopsDB->query("SELECT COUNT(*) FROM ".$xoopsDB->prefix("tdmlinks_mod"));    if ( $result ) {        $block['adminlink'] = XOOPS_URL."/modules/tdmlinks/admin/modified.php";        list($block['pendingnum']) = $xoopsDB->fetchRow($result);        $block['lang_linkname'] = _PI_WAITING_MODREQS ;    }    $ret[] = $block ;        return $ret;}?>
